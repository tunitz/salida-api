// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Movie {
  id            Int     @id @default(autoincrement())
  imdb_code     String  @unique
  title         String
  slug          String
  year          Int
  release_date  DateTime
  rating        Float
  language      String
  media_type    String  @default("N/A")
  poster        String?
  genre         Genre[]
  torrents      Torrent[]
}

model Genre {
  id      Int     @id
  name    String  @unique
  movies  Movie[]
}

model Torrent {
  id              Int     @id     @default(autoincrement())
  movie           Movie   @relation(fields: [movieId], references: [id])
  movieId         Int
  hash            String  @unique
  quality         String
  type            String
  video_codec     String
  size            BigInt
  created_date    DateTime  @default(now())
  updated_date    DateTime  @updatedAt
}